//
//
//
const db = require('db');

function load_to_RAM(game_uuid, cb) {

  cb = cb || function() {};

  if (!game_uuid) {
    return cb({
      status: 400,
      err: new Error('low args, game_uuid is required!')
    });
  }

  db.games.findOne({
    uuid: game_uuid
  },{
    game_schema_id : true
  }).lean().exec(function(err, game) {

    if (err) {
      return cb({
        status: 500,
        err: err
      });
    }

    global.games[game.uuid] = game;
  })
}

module.exports = load_to_RAM;
