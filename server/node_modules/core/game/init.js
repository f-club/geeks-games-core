//
//
//

const db = require('db');
const uuid_create = require('core/uuid/create');

function init(cb) {

  cb = cb || function() {};

  uuid_create(function(err, uuid) {

    // TODO : add owner of the game later
    new db.games({
      uuid: uuid,
      map: [0, 0, 0, 0, 0, 0, 0, 0, 0]
    }).save(function(err, game) {

      if (err) {
        return cb({
          status: 500,
          err: err
        });
      }

      return cb(null, game);
    });
  })
}

module.exports = init;
