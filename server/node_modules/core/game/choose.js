//
//
//

const db = require('db');

function choose(game_uuid, gamer_uuid, choose, cb) {

  cb = cb || function() {};

  if (!game_uuid || !choose) {
    return cb({
      status: 400,
      err: new Error('low args')
    });
  }

  // TODO can player play now?
  db.games.findOne({
    uuid: game_uuid
  }, {
    game_schema_id: true,
    _id: false
  }).lean().exec(function(err, game) {

    if (err) {
      return cb({
        status: 500,
        err: err
      })
    }

    let this_game = global.game_schemas[game.game_schema_id];

    console.original_log(this_game);
    console.open(choose);

    cb(null, true);
  })
}

module.exports = choose;

//////////

// function can_i_play_now(game_uuid, gamer_uuid, cb) {
//
//   cb = cb || function() {};
// }
