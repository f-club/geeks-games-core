//
//
//

const db = require('db');

function exists(username, cb) {

  cb = cb || function() {};

  if (!username) {
    return cb({
      status: 400,
      err: new Error('low args')
    })
  }


  let query = {
    username
  }

  db.players.findOne(query).lean().exec(function(err, player) {
    if (err) {
      return cb({
        err,
        status: 500
      });
    }

    if (player) {
      return cb(null, true);
    }

    return cb(null, false);
  })
}

module.exports = exists;
