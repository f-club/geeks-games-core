//
//
//

const db = require('db');

function add(game_schema, cb) {

  cb = cb || function() {};

  if (!game_schema || !game_schema.path || !game_schema.name) {

    return cb({
      status: 400,
      err: new Error('low args')
    });

  }

  game_schema.disable = false;

  // upsert game
  db.games_schemas.update({
    name: game_schema.name
  }, game_schema, {
    upsert: true
  }, function(err, result) {

    if (err) {
      return cb({
        status: 500,
        err: err
      });
    }

    return cb(null, result);
  })
}

module.exports = add;
